{"version":3,"file":"universal-router-generate-urls.min.js","sources":["../src/generateUrls.js"],"sourcesContent":["/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright Â© 2015-present Konstantin Tarkus, Kriasoft LLC. All rights reserved.\n *\n * This source code is licensed under the Apache 2.0 license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nconst cache = new Map();\n\nfunction generateUrls(router) {\n  const pathToRegexp = router.constructor.pathToRegexp;\n  let routesByName = {};\n\n  function update(route, routes) {\n    if (routesByName[route.name]) {\n      throw new Error(`Route \"${route.name}\" already exists`);\n    }\n\n    routesByName[route.name] = route;\n\n    if (routes) {\n      for (let i = 0; i < routes.length; i += 1) {\n        const childRoute = routes[i];\n        childRoute.parent = route;\n        update(childRoute, childRoute.children);\n      }\n    }\n  }\n\n  return (routeName, params) => {\n    let route = routesByName[routeName];\n    if (!route) {\n      routesByName = {};\n      update(router.root, router.root.children);\n      route = routesByName[routeName];\n\n      if (!route) {\n        throw new Error(`Route \"${routeName}\" not found`);\n      }\n    }\n\n    let path = '';\n    while (route) {\n      if (route.path !== '/') {\n        let toPath = cache.get(route.path);\n        if (!toPath) {\n          toPath = pathToRegexp.compile(route.path);\n          cache.set(route.path, toPath);\n        }\n        path = toPath(params) + path;\n      }\n      route = route.parent;\n    }\n\n    return router.baseUrl + path || '/';\n  };\n}\n\nexport default generateUrls;\n"],"names":["generateUrls","router","update","route","routes","routesByName","name","Error","i","length","childRoute","parent","children","pathToRegexp","constructor","routeName","params","root","path","toPath","cache","get","compile","set","baseUrl","Map"],"mappings":";uLAWA,SAASA,GAAaC,WAIXC,GAAOC,EAAOC,MACjBC,EAAaF,EAAMG,WACf,IAAIC,iBAAgBJ,EAAMG,8BAGrBH,EAAMG,MAAQH,EAEvBC,MACG,GAAII,GAAI,EAAGA,EAAIJ,EAAOK,OAAQD,GAAK,EAAG,IACnCE,GAAaN,EAAOI,KACfG,OAASR,IACbO,EAAYA,EAAWE,cAd9BC,GAAeZ,EAAOa,YAAYD,aACpCR,WAkBG,UAACU,EAAWC,MACbb,GAAQE,EAAaU,QACpBZ,WAEIF,EAAOgB,KAAMhB,EAAOgB,KAAKL,YACxBP,EAAaU,UAGb,IAAIR,iBAAgBQ,wBAI1BG,GAAO,GACJf,GAAO,IACO,MAAfA,EAAMe,KAAc,IAClBC,GAASC,EAAMC,IAAIlB,EAAMe,KACxBC,OACMN,EAAaS,QAAQnB,EAAMe,QAC9BK,IAAIpB,EAAMe,KAAMC,MAEjBA,EAAOH,GAAUE,IAElBf,EAAMQ,aAGTV,GAAOuB,QAAUN,GAAQ,KA/CpC,GAAME,GAAQ,GAAIK"}